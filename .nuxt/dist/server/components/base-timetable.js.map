{"version":3,"file":"components/base-timetable.js","sources":["webpack:///./config/examples/mainTimetable.js","webpack:///./components/common/timetable/CardTimetable.vue?e78e","webpack:///./components/base/BaseTimetable.vue?6daf","webpack:///./components/common/timetable/CardTimetable.vue?2fa6","webpack:///./components/common/timetable/CardTimetable.vue?9952","webpack:///./components/base/BaseTimetable.vue?087e","webpack:///./components/base/BaseTimetable.vue?e27e","webpack:///./components/base/BaseTimetable.vue?0af2","webpack:///./components/common/timetable/CardTimetable.vue?5b5f","webpack:///./components/common/timetable/CardTimetable.vue","webpack:///./components/common/timetable/CardTimetable.vue?9094","webpack:///./components/common/timetable/CardTimetable.vue?0512","webpack:///./components/base/BaseTimetable.vue","webpack:///./components/base/BaseTimetable.vue?713b","webpack:///./components/base/BaseTimetable.vue?83c4"],"sourcesContent":["export default {\n  1: [\n    {\n      id: 1,\n      start: \"11:00\",\n      end: \"12:30\",\n      type_id: 0,\n      name: \"Робототехника\",\n    },\n    {\n      id: 2,\n      start: \"13:00\",\n      end: \"14:30\",\n      type_id: 0,\n      name: \"Робототехника\",\n    },\n  ],\n  2: [\n    {\n      id: 3,\n      start: \"11:00\",\n      end: \"12:30\",\n      type_id: 1,\n      name: \"Программирование\",\n    },\n  ],\n  3: [\n    {\n      id: 4,\n      start: \"11:00\",\n      end: \"12:30\",\n      type_id: 0,\n      name: \"Робототехника\",\n    },\n  ],\n  4: [\n    {\n      id: 5,\n      start: \"11:00\",\n      end: \"12:30\",\n      type_id: 0,\n      name: \"Робототехника\",\n    },\n  ],\n  5: [\n    {\n      id: 6,\n      start: \"11:00\",\n      end: \"12:30\",\n      type_id: 0,\n      name: \"Робототехника\",\n    },\n  ],\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTimetable.vue?vue&type=style&index=0&id=c7c9cb5a&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"e8243254\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTimetable.vue?vue&type=style&index=0&id=a028fae0&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"a1eb6eb2\", content, true, context)\n};","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTimetable.vue?vue&type=style&index=0&id=c7c9cb5a&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".card-timetable[data-v-c7c9cb5a]{height:100%;cursor:pointer;display:flex;justify-content:center;align-items:center}.card-timetable__lesson[data-v-c7c9cb5a]{background:#d3e2f6}.card-timetable__info[data-v-c7c9cb5a]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:-webkit-fill-available;width:-webkit-fill-available}.card-timetable__text[data-v-c7c9cb5a]{font-size:15px}tr:not(:last-child) .card-timetable__empty[data-v-c7c9cb5a],tr:not(:last-child) .card-timetable__last[data-v-c7c9cb5a]{box-sizing:border-box;border-bottom:1px solid #000}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTimetable.vue?vue&type=style&index=0&id=a028fae0&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".base-timetable[data-v-a028fae0]{width:100%;border-spacing:0;border:1px solid #000}.base-timetable__cell[data-v-a028fae0]{padding:0;height:40px;text-align:center;border-right:1px solid #000}.base-timetable__cell[data-v-a028fae0]:last-child{border-right:none}.base-timetable__head[data-v-a028fae0]{height:40px;text-align:center;border-right:1px solid #000;border-bottom:1px solid #000}.base-timetable__head[data-v-a028fae0]:last-child{border-right:none}.base-timetable__time[data-v-a028fae0]{border-right:1px solid #000;border-bottom:1px solid #000;text-align:center;width:1%;white-space:nowrap;padding:0 6px}.base-timetable tr:last-child .base-timetable__time[data-v-a028fae0]{border-bottom:none}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"base-timetable\"},[_vm._ssrNode(\"<tr data-v-a028fae0><th class=\\\"base-timetable__time base-timetable__head\\\" data-v-a028fae0>Время</th> \"+(_vm._ssrList((_vm.heads),function(head){return (\"<th class=\\\"base-timetable__head\\\" data-v-a028fae0>\"+_vm._ssrEscape(_vm._s(head.name))+\"</th>\")}))+\"</tr> \"),_vm._l((_vm.times),function(time,index){return _vm._ssrNode(\"<tr data-v-a028fae0>\",\"</tr>\",[_vm._ssrNode(\"<td class=\\\"base-timetable__time\\\" data-v-a028fae0>\"+_vm._ssrEscape(_vm._s(time.start)+\" - \"+_vm._s(time.end))+\"</td> \"),_vm._l((_vm.heads),function(head){return _vm._ssrNode(\"<td class=\\\"base-timetable__cell\\\" data-v-a028fae0>\",\"</td>\",[_c('CardTimetable',{attrs:{\"data\":_vm.findLesson(head.id, time),\"time\":time}})],1)})],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data)?_c('div',{staticClass:\"card-timetable card-timetable__lesson\",class:{'card-timetable__last': _vm.data.end === _vm.time.end},on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.showInfo)?(\"<span class=\\\"card-timetable__info\\\" data-v-c7c9cb5a><p class=\\\"card-timetable__text\\\" data-v-c7c9cb5a>\"+_vm._ssrEscape(_vm._s(_vm.data.name))+\"</p> <p class=\\\"card-timetable__text\\\" data-v-c7c9cb5a>\"+_vm._ssrEscape(_vm._s(_vm.data.start)+\" - \"+_vm._s(_vm.data.end))+\"</p></span>\"):\"<!---->\"))],2):_c('div',{staticClass:\"card-timetable card-timetable__empty\"},[])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"CardTimetable\",\n  data: () => ({\n    CELL_MINUTES: 30,\n  }),\n  props: {\n    data: {\n      type: Object,\n      default: null\n    },\n    time: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    handleClick() {\n      console.log(this.data)\n      this.$router.push(`/timetable/groups/${this.data.id}`)\n    },\n    timeToMinutes(time) {\n      const [hours, minutes] = time.split(\":\").map(t => parseInt(t));\n      return hours*60 + minutes;\n    }\n  },\n  computed: {\n    showInfo() {\n      // ODD\n      if (this.cellCount % 2 !== 0)\n        return ((this.cellCount + 1) / 2) === this.cellPlace;\n      //EVEN\n      return (this.cellCount / 2) === this.cellPlace;\n    },\n    cellPlace() {\n      const cellMinutes = 30;\n      const lessonStart = this.timeToMinutes(this.data.start);\n      const timeEnd = this.timeToMinutes(this.time.end);\n      const lessonMinutes = timeEnd - lessonStart;\n      return lessonMinutes / cellMinutes;\n    },\n    cellCount() {\n      const beforeLesson = this.timeToMinutes(this.data.start);\n      const afterLesson = this.timeToMinutes(this.data.end);\n      return (afterLesson - beforeLesson) / this.CELL_MINUTES;\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTimetable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTimetable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardTimetable.vue?vue&type=template&id=c7c9cb5a&scoped=true&\"\nimport script from \"./CardTimetable.vue?vue&type=script&lang=js&\"\nexport * from \"./CardTimetable.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./CardTimetable.vue?vue&type=style&index=0&id=c7c9cb5a&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"c7c9cb5a\",\n  \"7925c2cd\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport mainTimetable from \"@/config/examples/mainTimetable\";\nimport weekDays from \"@/config/weekDays\";\n\nimport CardTimetable from \"@/components/common/timetable/CardTimetable\";\n\nexport default {\n  name: \"BaseTimetable\",\n  components: { CardTimetable },\n  props: {\n    data: {\n      type: Object,\n      default: () => mainTimetable\n    }\n  },\n  data: () => ({\n    HIGHEST_TIME_DEFAULT: \"9:00\",\n    LOWEST_TIME_DEFAULT: \"22:00\",\n  }),\n  methods: {\n    isTimeIncludes(time, lesson) {\n      return this.formatTimeToMinutes(time.start) >= this.formatTimeToMinutes(lesson.start)\n          && this.formatTimeToMinutes(time.end) <= this.formatTimeToMinutes(lesson.end)\n    },\n    findLesson(dayId, time) {\n      const dayLessons = this.data[dayId];\n      return dayLessons.find(lesson => this.isTimeIncludes(time, lesson))\n    },\n\n    calculateMinutes(time, val = -30) {\n      const [hours, minutes] = time.split(\":\").map(t => parseInt(t));\n      const timeInMinutes = (hours*60 + minutes) + val;\n      return this.minutesToTime(timeInMinutes);\n    },\n    minutesToTime(val) {\n      const minutes = val % 60;\n      const hours = (val - minutes)/60;\n      return this.timeToFormat(`${hours}:${minutes}`);\n    },\n    timeToFormat(time) {\n      const hour = time.split(\":\")[0];\n      const minute = time.split(\":\")[1];\n\n      const processedHour = hour.length > 1 ? hour : `0${hour}`;\n      const processedMinute = minute.length > 1 ? minute : `0${minute}`;\n\n      return `${processedHour}:${processedMinute}`\n    },\n    formatTimeToMinutes(time) {\n      let [hours, minutes] = time.split(\":\").map(t => parseInt(t));\n      return hours*60 + minutes;\n    },\n    timeToMinutes(hour, minute) {\n      return ( hour * 60 ) + minute;\n    },\n    getIntHour(time) {\n      return parseInt(time.split(\":\")[0])\n    },\n    getIntMinute(time) {\n      return parseInt(time.split(\":\")[1])\n    },\n    getBiggest(time1, time2) {\n      const time1Minutes = (this.getIntHour(time1) * 60) + this.getIntMinute(time1);\n      const time2Minutes = (this.getIntHour(time2) * 60) + this.getIntMinute(time2);\n      return time1Minutes > time2Minutes\n        ? time1\n        : time2;\n    },\n    getLowest(time1, time2) {\n      const time1Minutes = (this.getIntHour(time1) * 60) + this.getIntMinute(time1);\n      const time2Minutes = (this.getIntHour(time2) * 60) + this.getIntMinute(time2);\n      return time1Minutes < time2Minutes\n        ? time1\n        : time2;\n    },\n  },\n  computed: {\n    highestTime() {\n      let highestTime = this.LOWEST_TIME_DEFAULT;\n      Object.keys(this.data).forEach(dayId => {\n        this.data[dayId].forEach(lesson => {\n          highestTime = this.getLowest(highestTime, lesson.start);\n        })\n      })\n      return highestTime;\n    },\n    lowestTime() {\n      let lowestTime = this.HIGHEST_TIME_DEFAULT;\n      Object.keys(this.data).forEach(dayId => {\n        this.data[dayId].forEach(lesson => {\n          lowestTime = this.getBiggest(lowestTime, lesson.end);\n        })\n      })\n      return lowestTime;\n    },\n    heads() {\n      return Object.keys(this.data).map(key => ({\n        name: weekDays[key].name,\n        id: key\n      }));\n    },\n    times() {\n      let [startHour, startMinute] = this.highestTime.split(\":\").map(time => parseInt(time));\n      let [endHour, endMinute] = this.lowestTime.split(\":\").map(time => parseInt(time));\n      let times = [];\n\n      while(this.timeToMinutes(startHour, startMinute) <= (this.timeToMinutes(endHour, endMinute) - 30)) {\n        const edgeStart = this.timeToFormat(`${startHour}:${startMinute}`);\n        const edgeEnd = this.calculateMinutes(`${startHour}:${startMinute}`, +30);\n        times.push(\n            {\n              start: edgeStart,\n              end: edgeEnd\n            }\n        );\n\n        if (!!startMinute) {\n          startHour++;\n          startMinute = 0;\n        }\n        else {\n          startMinute += 30;\n        }\n      }\n\n      return times;\n    }\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTimetable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTimetable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseTimetable.vue?vue&type=template&id=a028fae0&scoped=true&\"\nimport script from \"./BaseTimetable.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseTimetable.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./BaseTimetable.vue?vue&type=style&index=0&id=a028fae0&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"a028fae0\",\n  \"8a07a500\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AACA;AALA;AA7CA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;ACFA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AATA;AAUA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AApBA;AAzBA;;ACnBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAxDA;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AACA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAnDA;AAtEA;;AC9BA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}